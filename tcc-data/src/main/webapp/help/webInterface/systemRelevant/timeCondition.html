<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>TCC开放接口帮助中心</title>
    <meta name="keywords" content="接口支持">
    <meta name="description" content="天润融通为客户提供服务型呼叫中心系统、外呼型呼叫中心系统、分布 式呼叫中心系统、智能语音云平台,是呼叫中心（call center）行业的创新者.为百度、大众点评等众多客户提 供呼叫中心解决方案.">
    <link href="/framework/stylesheet/helpcenter/commonstyle.css" type="text/css" rel="stylesheet" />
    <link href="/framework/stylesheet/helpcenter/homestyle.css" type="text/css" rel="stylesheet" />
    <link href="/framework/stylesheet/helpcenter/substyle.css" type="text/css" rel="stylesheet" />
    <script src="/framework/scripts/jquery-1.11.1.js" type="text/javascript"></script>
    <script src="/framework/scripts/helpcenter/interface.js" type="text/javascript"></script>
    <script src="/framework/scripts/helpcenter/webjs.js" type="text/javascript"></script>
    <script>
        /* 当前展开 */
        window.onload = function ()
        {
            $(".jklist ul li ul li#54").parent("ul").parent("li").children("span").removeClass("open").addClass("close");
            $(".jklist ul li ul li#54").parent("ul").css("display","block");
            $(".jklist ul li ul li#54 a").addClass("cure");
        }
    </script>
</head>
<body>

<div class="topbody"></div>

<div class="mainbody">
    <div class="body-l">
        <div id="jklist" class="jklist">
        </div>

    </div>
 <div class="body-r">
    <h1>时间条件管理接口</h1>
     
    <div class="conbar">
      <h1>接口作用说明</h1>
      <div class="concon grey">通过接口,查询时间条件，增加时间条件，删除时间条件。</div>
    </div>
     
     
    <div class="conbar">
      <h1>查询时间条件</h1>
      <div class="concon grey">接口类型：HTTP请求<br />
接口使用账户：企业账户<br />
接口地址：天润呼叫中心接口服务器IP或域名<br />
接口参数：企业编号，用户名，密码<br />
接口返回值：JSON格式返回结果<br />
接口URL<br />
URL示例：<br />
http://TIWebServer:TIPort/interfaceAction/enterpriseTimeInterface!list.action?enterpriseId=?&userName=&pwd=&seed=&start=&limit=<br />
参数说明<br />
<table border="1" cellpadding="0" cellspacing="0">
<tbody>
	<tr>
	<td style="width:150px;height:21px;"><strong>参数</strong></td>
	<td style="width:46px;height:21px;"><strong>要求</strong></td>
	<td style="width:88px;height:21px;"><strong>描述</strong></td>
	<td style="width:322px;height:21px;"><strong>备注</strong></td>
	</tr>
	<tr>
	<td style="width:150px;height:20px;">enterpriseId</td>
	<td style="width:46px;height:20px;">必选</td>
	<td style="width:88px;height:20px;">企业编号</td>
	<td style="width:322px;height:20px;">管理员后台登陆后，位于右上角位置</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">userName</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">用户名</td>
	<td style="width:322px;height:21px;">登录后台用户名，如admin</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">pwd</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">密码</td>
	<td style="width:322px;height:21px;">需和seed进行MD5加密，格式：md5(md5(对应userName的密码)+seed)，例如：md5(md5(123456)seed)</td>
	</tr>
	<tr>
	<td style="width:150px;height:20px;">seed</td>
	<td style="width:46px;height:20px;">必选</td>
	<td style="width:88px;height:20px;">随机字符串</td>
	<td style="width:322px;height:20px;"></td>
	</tr>
	<tr>
	<td style="width:150px;height:20px;">start</td>
	<td style="width:46px;height:20px;">可选</td>
	<td style="width:88px;height:20px;">开始</td>
	<td style="width:322px;height:20px;">从第几条开始查询，默认为0</td>
	</tr>
	<tr>
	<td style="width:150px;height:20px;">limit</td>
	<td style="width:46px;height:20px;">可选</td>
	<td style="width:88px;height:20px;">条数</td>
	<td style="width:322px;height:20px;">查询条数，默认为10</td>
	</tr>
</tbody>
</table>
url示例<br />
http://172.16.15.244/interfaceAction/enterpriseTimeInterface!list.action?enterpriseId=3000000&amp;userName=admin&amp;seed=123&amp;pwd=f397261f840dc8293cafaee28e3a3a78&start=0&amp;limit=10<br />
JSON格式数据：<br />
若操作成功{result:返回结果, code:结果代码,msg:描述,list:[{id:路由id, name:时间条件名称, type:时间条件类型, fromDay:企业特殊假日日期起始, toDay:企业特殊假日日期结束, dayOfWeek:一周中所选星期, startTime:开始时间, endTime:结束时间, priority: 优先级,createTime:创建时间}]}
<br />
<table border="0" cellpadding="0" cellspacing="0">
<tbody>
	<tr>
	<td style="width:54px;height:24px;"><strong>id</strong></td>
	<td style="width:489px;height:24px;"><strong>id编号</strong></td>
	</tr>
	<tr>
	<td style="width:54px;height:24px;">name</td>
	<td style="width:489px;height:24px;">时间条件名称</td>
	</tr>
	<tr>
	<td style="width:54px;height:17px;">type</td>
	<td style="width:489px;height:17px;">时间条件类型 1: 星期时间条件  2: 固定时间条件</td>
	</tr>
		<tr>
	<td style="width:54px;height:17px;">fromDay</td>
	<td style="width:489px;height:17px;">企业特殊假日日期起始</td>
	</tr>
		<tr>
	<td style="width:54px;height:17px;">toDay</td>
	<td style="width:489px;height:17px;">企业特殊假日日期结束</td>
	</tr>
		<tr>
	<td style="width:54px;height:17px;">dayOfWeek</td>
	<td style="width:489px;height:17px;">一周中所选星期</td>
	</tr>
		<tr>
	<td style="width:54px;height:17px;">startTime</td>
	<td style="width:489px;height:17px;">开始时间</td>
	</tr>
		<tr>
	<td style="width:54px;height:17px;">endTime</td>
	<td style="width:489px;height:17px;">结束时间</td>
	</tr>
		<tr>
	<td style="width:54px;height:17px;">priority</td>
	<td style="width:489px;height:17px;">时间条件优先级</td>
	</tr>
		<tr>
	<td style="width:54px;height:17px;">createTime</td>
	<td style="width:489px;height:17px;">创建时间</td>
	</tr>
</tbody>
</table>
<br />
成功返回示例：<br />
{"result":"success","msg":"操作成功","code":"0","list":[{"id":3,"name":"星期二","type":1,"fromDay":"","toDay":"","dayOfWeek":"2,3,4,5,6,7,1","startTime":"00:00","endTime":"23:59","priority":2,"createTime":"2016-01-05 14:29:11"},{"id":4,"name":"test","type":1,"fromDay":"2016-01-01","toDay":"2016-01-12","dayOfWeek":"1,2,3,4,5,6,7","startTime":"00:00","endTime":"23:59","priority":4,"createTime":"2016-01-13 17:38:29"},{"id":1,"name":"节假日","type":2,"fromDay":"2014-10-01","toDay":"2014-10-07","dayOfWeek":"","startTime":"00:00","endTime":"23:59","priority":1,"createTime":"2015-12-15 14:32:51"}]}
若失败{result:返回结果, code:结果代码,msg:描述}</br>
<br />
返回结果说明：<br />
<table border="1" cellpadding="0" cellspacing="0" style="width: 100%;">
<tbody>
	<tr>
	<td style="width:90px;"><strong>result</strong></td>
	<td style="width:69px;"><strong>code</strong></td>
	<td style="width:317px;"><strong>msg</strong></td>
	</tr>
	<tr>
	<td style="width:90px;height:25px;">success</td>
	<td style="width:69px;height:25px;">0</td>
	<td style="width:317px;height:25px;">操作成功</td>
	</tr>
	<tr>
	<td style="width:90px;height:25px;">error</td>
	<td style="width:69px;height:25px;">1</td>
	<td style="width:317px;height:25px;">参数[具体参数名]不能为空</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">2</td>
	<td style="width:317px;">参数[具体参数名]格式不正确</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">3</td>
	<td style="width:317px;">企业不存在或状态不正常</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">4</td>
	<td style="width:317px;">无权操作，接口未开通</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">5</td>
	<td style="width:317px;">密码错误</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">6</td>
	<td style="width:317px;">优先级已存在</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">99</td>
	<td style="width:317px;">其他错误，操作失败</td>
	</tr>
</tbody>
</table>
</div>
    </div>
<br />
<br />
<br />
    <div class="conbar">
      <h1>新增/修改时间条件</h1>
      <div class="concon grey">接口类型：HTTP请求<br />
接口使用账户：企业账户<br />
接口地址：呼叫中心系统IP<br />
接口参数：企业账号、企业账户密码、技能id、名称、备注<br />
接口返回值：JSON格式返回结果<br />

URL示例：<br />
星期时间条件：<br />
http://TIWebServer:TIPort/interfaceAction/enterpriseTimeInterface!save.action?enterpriseId=&amp;userName=&amp;seed=&amp;pwd=&amp;name=&amp;type=&amp;dayOfWeek=&amp;startTime=&amp;endTime=&amp;priority=<br />
固定时间条件：<br />
http://TIWebServer:TIPort/interfaceAction/enterpriseTimeInterface!save.action?enterpriseId=&amp;userName=&amp;seed=&amp;pwd=&amp;name=&amp;type=&amp;fromDay=&amp;toDay=&amp;startTime=&amp;endTime=&amp;priority=</br>
<br />
参数说明<br />
<table border="1" cellpadding="0" cellspacing="0">
<tbody>
	<tr>
	<td style="width:150px;height:21px;"><strong>参数</strong></td>
	<td style="width:46px;height:21px;"><strong>要求</strong></td>
	<td style="width:88px;height:21px;"><strong>描述</strong></td>
	<td style="width:322px;height:21px;"><strong>备注</strong></td>
	</tr>
	<tr>
	<td style="width:150px;height:20px;">enterpriseId</td>
	<td style="width:46px;height:20px;">必选</td>
	<td style="width:88px;height:20px;">企业编号</td>
	<td style="width:322px;height:20px;">管理员后台登陆后，位于右上角位置</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">userName</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">用户名</td>
	<td style="width:322px;height:21px;">登录后台用户名，如admin</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">seed</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">随机字符串</td>
	<td style="width:322px;height:21px;"></td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">name</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">时间条件名称</td>
	<td style="width:322px;height:21px;">需进行UTF-8格式的URLEncode编码</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">type</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">时间条件类型</td>
	<td style="width:322px;height:21px;">时间类型 1: 星期时间条件  2: 固定时间条件</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">fromDay</td>
	<td style="width:46px;height:21px;">可选</td>
	<td style="width:88px;height:21px;">企业特殊假日日期起始</td>
	<td style="width:322px;height:21px;">type=2时使用，type=1时为空串  格式：yyyy-MM-dd  例如：2016-01-01</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">toDay</td>
	<td style="width:46px;height:21px;">可选</td>
	<td style="width:88px;height:21px;">企业特殊假日日期结束</td>
	<td style="width:322px;height:21px;">type=2时使用，type=1时为空串 格式：yyyy-MM-dd  例如：2016-01-01</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">dayOfWeek</td>
	<td style="width:46px;height:21px;">可选</td>
	<td style="width:88px;height:21px;">一周中所选星期</td>
	<td style="width:322px;height:21px;">type=1时使用, type=2时为空  格式：2:一 3:二 4:三 5:四 6:五 7:六 1:日 字符串分隔 例如:1,2,3,4,5</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">startTime</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">开始时间</td>
	<td style="width:322px;height:21px;">格式: HH:mm   例如：00:00</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">endTime</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">结束时间</td>
	<td style="width:322px;height:21px;">格式: HH:mm   例如：00:00</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">priority</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">优先级</td>
	<td style="width:322px;height:21px;">值越小优先级越高，不能重复，默认为现有最大值+1</td>
	</tr>
	<tr>
		<td style="width:150px;height:21px;">newName</td>
		<td style="width:46px;height:21px;">可选</td>
		<td style="width:88px;height:21px;">新的时间条件名称</td>
		<td style="width:322px;height:21px;">需进行UTF-8格式的URLEncode编码</td>
	</tr>
</tbody>
</table>
返回值<br />
http://172.16.15.244/interfaceAction/enterpriseTimeInterface!save.action?enterpriseId=3000000&amp;userName=admin&amp;seed=123&amp;pwd=f397261f840dc8293cafaee28e3a3a78&amp;name=test&amp;type=1&amp;dayOfWeek=1,2,3,4,5,6,7&amp;startTime=00:00&amp;endTime=23:59&amp;priority=3<br />
<br />
<br />
JSON格式数据：<br />
若操作成功{result:返回结果, code:结果代码,msg:描述,id:时间id}
若失败{result:返回结果, code:结果代码,msg:描述}</br>
<br />
<br />
返回结果说明：
<table border="1" cellpadding="0" cellspacing="0" style="width: 100%;">
<tbody>
	<tr>
	<td style="width:90px;"><strong>result</strong></td>
	<td style="width:69px;"><strong>code</strong></td>
	<td style="width:317px;"><strong>msg</strong></td>
	</tr>
	<tr>
	<td style="width:90px;height:25px;">success</td>
	<td style="width:69px;height:25px;">0</td>
	<td style="width:317px;height:25px;">操作成功</td>
	</tr>
	<tr>
	<td style="width:90px;height:25px;">error</td>
	<td style="width:69px;height:25px;">1</td>
	<td style="width:317px;height:25px;">参数[具体参数名]不能为空</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">2</td>
	<td style="width:317px;">参数[具体参数名]格式不正确</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">3</td>
	<td style="width:317px;">企业不存在或状态不正常</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">4</td>
	<td style="width:317px;">无权操作，接口未开通</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">5</td>
	<td style="width:317px;">密码错误</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">6</td>
	<td style="width:317px;">优先级已存在</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">7</td>
	<td style="width:317px;">开始日期不能晚于结束日期/开始时间不能晚于结束时间</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">8</td>
	<td style="width:317px;">日期格式解析出错/时间格式解析出错</td>
	</tr>
	<tr>
		<td style="width:90px;">error</td>
		<td style="width:69px;">9</td>
		<td style="width:317px;">[name]或[newName]名称已存在</td>
	</tr><tr>
		<td style="width:90px;">error</td>
		<td style="width:69px;">10</td>
		<td style="width:317px;">名称不存在，若新增，请去掉[newName]参数</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">99</td>
	<td style="width:317px;">其他错误，操作失败</td>
	</tr>
</tbody>
</table>
<br />
</div>
    </div>
     
 <br />
<br />
<br />
    <div class="conbar">
      <h1>删除时间条件</h1>
      <div class="concon grey">接口类型：HTTP请求<br />
接口使用账户：企业账户<br />
接口地址：呼叫中心系统IP<br />
接口参数：企业账号、企业账户密码、技能id、名称、备注<br />
接口返回值：JSON格式返回结果<br />
接口URL<br />
URL示例：<br />
http://TIWebServer:TIPort/interfaceAction/enterpriseTimeInterface!delete.action?enterpriseId=?&amp;userName=&amp;pwd=&amp;seed=&amp;name=<br />
参数说明<br />
<table border="1" cellpadding="0" cellspacing="0">
<tbody>
	<tr>
	<td style="width:150px;height:21px;"><strong>参数</strong></td>
	<td style="width:46px;height:21px;"><strong>要求</strong></td>
	<td style="width:88px;height:21px;"><strong>描述</strong></td>
	<td style="width:322px;height:21px;"><strong>备注</strong></td>
	</tr>
	<tr>
	<td style="width:150px;height:20px;">enterpriseId</td>
	<td style="width:46px;height:20px;">必选</td>
	<td style="width:88px;height:20px;">企业编号</td>
	<td style="width:322px;height:20px;">管理员后台登陆后，位于右上角位置</td>
	</tr>
	<tr>
	<td style="width:150px;height:20px;">userName</td>
	<td style="width:46px;height:20px;">必选</td>
	<td style="width:88px;height:20px;">用户名</td>
	<td style="width:322px;height:20px;">登录后台用户名，如admin</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">password</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">登录密码</td>
	<td style="width:322px;height:21px;">需和seed进行MD5加密，格式：md5(md5(对应userName的密码)+seed)，例如：md5(md5(123456)seed)</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">seed</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">随机字符串</td>
	<td style="width:322px;height:21px;">需和seed进行MD5加密，格式：md5(md5(对应userName的密码)+seed)，例如：md5(md5(123456)seed)</td>
	</tr>
	<tr>
	<td style="width:150px;height:21px;">name</td>
	<td style="width:46px;height:21px;">必选</td>
	<td style="width:88px;height:21px;">时间条件名称</td>
	<td style="width:322px;height:21px;"></td>
	</tr>
</tbody>
</table>
返回值<br />
http://172.16.15.244/interfaceAction/enterpriseTimeInterface!delete.action?enterpriseId=3000000&amp;userName=admin&amp;seed=123&amp;pwd=f397261f840dc8293cafaee28e3a3a78&amp;name=test<br />
<br />
JSON格式数据：</br>
{result:返回结果, code:结果代码,msg:描述}<br />
<table border="1" cellpadding="0" cellspacing="0" style="width: 100%;">
<tbody>
	<tr>
	<td style="width:90px;"><strong>result</strong></td>
	<td style="width:69px;"><strong>code</strong></td>
	<td style="width:317px;"><strong>msg</strong></td>
	</tr>
	<tr>
	<td style="width:90px;height:25px;">success</td>
	<td style="width:69px;height:25px;">0</td>
	<td style="width:317px;height:25px;">操作成功</td>
	</tr>
	<tr>
	<td style="width:90px;height:25px;">error</td>
	<td style="width:69px;height:25px;">1</td>
	<td style="width:317px;height:25px;">参数[具体参数名]不能为空</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">2</td>
	<td style="width:317px;">参数[具体参数名]格式不正确</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">3</td>
	<td style="width:317px;">企业不存在或状态不正常</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">4</td>
	<td style="width:317px;">无权操作，接口未开通</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">5</td>
	<td style="width:317px;">密码错误</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">6</td>
	<td style="width:317px;">优先级已存在</td>
	</tr>
	<tr>
	<td style="width:90px;">error</td>
	<td style="width:69px;">99</td>
	<td style="width:317px;">其他错误，操作失败</td>
	</tr>
</tbody>
</table>
    
</div>
    </div>
 
 
 
 
 
 
 
 
 
    </div>
    
  </div>
  <div class="clear"></div>
</div>

<div class="footer">
    <div class="mcon posR"> 
        <p class="posA" style="left:0">COPYRIGHT © 2014 TI-NET. ALL RIGHTS RESERVED. 版权所有 北京天润融通科技股份有限公司</p>
        <p class="posA" style="right:0">呼叫中心运营许可证：B2-20070013 京ICP备06029233号 北京市公安局海淀分局备案号：1101085008</p>
    </div>
</div>

<div style="right:50px;" class="go2top"><a style="display: block;" href="#top" title="回到顶部"><span class="icon_m arrowup"></span></a></div>
</body>
</html>